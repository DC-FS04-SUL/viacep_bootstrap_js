<!-- shift+alt+F - organiza o código -->
<!-- div*3.col-4 (faz 3 divs com col-4 incluído)-->

<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Consulta CEP</title>


    <!-- biblioteca -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


    <!-- Meus estilos -->
    <link rel="stylesheet" href="./style.css">

</head>


<body data-bs-theme="dark">
    <!-- nome e botão -->
    <nav class="bg-primary">
        <div class="container">
            <div class="row">
                <!-- nome -->
                <div class="col-6 text-light">
                    <h2>Consulta CEP</h2>
                </div>

            </div>
        </div>
    </nav>
    <!-- mini bio -->



    <main>

        <!-- projetos -->

        <div class="p-3 bg-body-secundary">
            <section class="container">
                <div class="row gap-3">
                    <!-- 3 card, img, a  -->

                    <!-- card 1 -->
                    <div class="card mb-3" style="max-width: 540px;">
                        <div class="row g-0">
                            <div class="col-md-8">
                                <div class="card-body">
                                    <script>

                                        function limpa_formulário_cep() {
                                            //Limpa valores do formulário de cep.
                                            document.getElementById('rua').value = ("");
                                            document.getElementById('bairro').value = ("");
                                            document.getElementById('cidade').value = ("");
                                            document.getElementById('uf').value = ("");
                                            // document.getElementById('ibge').value=("");
                                        }

                                        function meu_callback(conteudo) {
                                            if (!("erro" in conteudo)) {
                                                //Atualiza os campos com os valores.
                                                document.getElementById('rua').value = (conteudo.logradouro);
                                                document.getElementById('bairro').value = (conteudo.bairro);
                                                document.getElementById('cidade').value = (conteudo.localidade);
                                                document.getElementById('uf').value = (conteudo.uf);
                                                //document.getElementById('ibge').value=(conteudo.ibge);
                                            } //end if.
                                            else {
                                                //CEP não Encontrado.
                                                limpa_formulário_cep();
                                                alert("CEP não encontrado.");
                                            }
                                        }

                                        function pesquisacep(valor) {

                                            //Nova variável "cep" somente com dígitos.
                                            var cep = valor.replace(/\D/g, '');

                                            //Verifica se campo cep possui valor informado.
                                            if (cep != "") {

                                                //Expressão regular para validar o CEP.
                                                var validacep = /^[0-9]{8}$/;

                                                //Valida o formato do CEP.
                                                if (validacep.test(cep)) {

                                                    //Preenche os campos com "..." enquanto consulta webservice.
                                                    document.getElementById('rua').value = "...";
                                                    document.getElementById('bairro').value = "...";
                                                    document.getElementById('cidade').value = "...";
                                                    document.getElementById('uf').value = "...";
                                                    //document.getElementById('ibge').value="...";

                                                    //Cria um elemento javascript.
                                                    var script = document.createElement('script');

                                                    //Sincroniza com o callback.
                                                    script.src = 'https://viacep.com.br/ws/' + cep + '/json/?callback=meu_callback';

                                                    //Insere script no documento e carrega o conteúdo.
                                                    document.body.appendChild(script);

                                                } //end if.
                                                else {
                                                    //cep é inválido.
                                                    limpa_formulário_cep();
                                                    alert("Formato de CEP inválido.");
                                                }
                                            } //end if.
                                            else {
                                                //cep sem valor, limpa formulário.
                                                limpa_formulário_cep();
                                            }
                                        };

                                    </script>


                                    <body>
                                        <!-- Inicio do formulario -->
                                        <form method="get" action=".">
                                            <label>Cep:
                                                <input name="cep" type="text" id="cep" value="" size="10" maxlength="9"
                                                    onblur="pesquisacep(this.value);" /></label><br />
                                            <br>
                                            <label>Rua:
                                                <input name="rua" type="text" id="rua" size="60" /></label><br />
                                            <br>
                                            <label>Bairro:
                                                <input name="bairro" type="text" id="bairro" size="40" /></label><br />
                                            <br>
                                            <label>Cidade:
                                                <input name="cidade" type="text" id="cidade" size="40" /></label><br />
                                            <br>
                                            <label>Estado:
                                                <br>
                                                <input name="uf" type="text" id="uf" size="2" /></label><br />
                                            <!-- <label>IBGE:
                                            <input name="ibge" type="text" id="ibge" size="8" /></label><br /> -->
                                        </form>
                                    </body>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- card 2 -->
                    <div class="card mb-3" style="max-width: 540px;">
                        <div class="row g-0">
                            <img src="./image/undraw_map_dark_re_36sy.svg" class="img-fluid rounded-start" alt="...">
                         
                        </div>
                    </div>


                </div>
            </section>
        </div>


    </main>


    <footer>
        <!-- telefone, email, github e linkedIn -->
        <div>

        </div>
        <div class="p-5 bg-dark-subtle">
            <section>
                <div class="container">
                    <div class="row">
                        <ul class="list-group">
                            <p>Não conseguiu achar o CEP? Então entre contato com nosso suporte 24hrs</p>
                            <li class="list-group-item bg-dark-subtle">
                                <i class="fa-brands fa-whatsapp"></i>
                                Telefone :<a
                                    href="https://wa.me/5585989286298?text= 45: Olá, aguarde um momento logo você será atendido. Você está na posição 257 na fila de atendimento"
                                    target="_blank">85 98928-6298</a>
                                <!-- o número 45 é como se fosse um código de indicação da venda -->
                            </li>
                        </ul>
                    </div>
                </div>

            </section>

        </div>
        <!-- direitos autorais -->
        <div class="p-3 text-center bg-dark-subtle">
            <section>

                &copy; 2023 Sérgio Melo - Quase todos os diretos reservados.

            </section>
        </div>

    </footer>


</body>

</html>